# Precious Little Moments

Precious Little Moments is an App that allows parents or guardians of children to save and share those precious moments you have of them. Look back on your time with them a year, a month, and a week ago. See how your lives have changed over time and the progress your little ones have made. Remember those moments and experiences and never forget the magic of that moment. Reading your memories is as easy as registering, logging in, writing a new entry and hitting create.

## Demo

- [Live Demo]('https://?')

## Installing

```
npm install
npm start
```

## Testing 
To run back-end tests run ```npm test``` in terminal.

## Schema

### User
```
(
  id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  first_name TEXT NOT NULL,
  last_name TEXT NOT NULL,
  password TEXT NOT NULL,
  email TEXT NOT NULL UNIQUE,
);
```

### Posts 
```
(
  id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  post_title TEXT NOT NULL,
  post_content TEXT NOT NULL,
  owner INTEGER REFERENCES users(id) ON DELETE CASCADE NOT NULL
);
```

## API Overview
```
/api
|__/auth
|   |__ POST
|   |__/login
|
|__/posts
|   |__ GET
|   |   |__ /
|   |   |__ /:postId
|   |__ POST
|   |    |__ /
|   |__ PATCH
|   |    |__ /:postId
|   |__ DELETE
|   |    |__ /:postId
|
|__/users
|    |__ GET
|    |   |__ /user
|    |__ POST
|    |   |__ /
|    |__ DELETE
|    |    |__ /user 
```

### POST ```/api/auth/login```
```
// req.body
 {
  email: String,
  password: String
 }
 
 // res.body
 {
  authToken: String
 }
```

### GET ```/api/posts```
```
// req.header
Authorization: Bearer ${token}

// res.body
[
  {
    id: Number,
    post_title: String,
    post_content: String,
    first_name: String,
    last_name: String
   }
]
```

### GET ```/api/posts/Post```
```
  // req.header
  Authorization: Bearer ${token}
  
  // req.user
  {
    id: Number
  }

  // res.body
[
  {
    id: Number,
    post_title: String,
    post_content: String,
    first_name: String,
    last_name: String
   }
]
```

### GET ```/api/posts/:postId```
```
  // req.header
  Authorization: Bearer ${token}

  // res.body
  {
    id: Number,
    post_title: String,
    post_content: String,
    owner: Number
  }
```

### POST ```/api/posts```
```
  // req.header
  Authorization: Bearer ${token}
  
  // req.user
  {
    id: Number
  }
  
  // req.body
  {
    post_title: String,
    post_content: String,
    owner: Number
  }
```
 
 ### PATCH ```/api/posts/:postId```
 ```
  // req.header
  Authorization: Bearer ${token}
  
  // req.params
  {
    postId: Number
  }
  
  // req.body
  {
    post_title: String,
    post_content: String
    post_id: Number
  }
```

### DELETE ```/api/posts/:postId```
```
  // req.header
  Authorization: Bearer ${token}
  
  // req.params
  {
    postId: Number
  }
```

### GET ```/api/users/user```
```
  // req.header
  Authorization: Bearer ${token}
  
  //req.user
  {
    id: Number
  }
  
  // res.body
  {
    first_name: String,
    last_name: String,
    id: Number,
    start_date: String,
  }
```
    

### POST ```/api/users```
```
  // req.body
  {
   first_name: String,
   last_name: String,
   email: String,
   password: String,
  }
```

### DELETE ```/api/users/user```
```
  // req.header
  Authorization: Bearer ${token}
  
  // req.user
  {
    id: Number
  }
```

## Built With

### Front-end
- React
- Vanilla JavaScript
- HTML
- CSS

### Back-End
- PostgreSQL
- Express
- Node
- Knex

### Testing
- Mocha
- Chai
- Jest
- Enzyme

### Authentication
- bcrypt
- JWTs

## Features
- Create Account
- Create a Moment
- Update Moment
- Delete Moment
- Delete Account
